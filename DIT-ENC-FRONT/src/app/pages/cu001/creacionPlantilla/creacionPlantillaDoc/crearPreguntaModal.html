<div class="modal fade" bsModal #crearPreguntaModalCmp="bs-modal" [config]="{backdrop: 'static'}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
aria-hidden="true">
<div class="modal-dialog">
  <div class="modal-content">
    <form [formGroup]="form"  novalidate>
      <!-- cabecera -->
      <div class="modal-header">
        <button type="button" class="close" (click)="cerrar()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h5 class="modal-title">{{titulo}}</h5>
      </div>    
      <!-- Cuerpo -->
      <div class="modal-body">
        <div class="form-group row">
          <div class="row">
            <div class="col-md-12">
              <div class="col-md-12">
                <fieldset class="form-control">
                  <legend>Datos</legend>
                  <!-- row -->
                  <div class="form-group row">
                    <div class="col-md-12">
                      <label class="col-md-3 col-form-label" >Pregunta</label>
                      <div class="col-md-9">
                        <input class="col-md-12 form-control" type="text" placeholder="Ingresar una pregunta" id="titulo" name="titulo" formControlName="titulo">
                        <div *ngIf="appControlsForm.validControls.titulo" class="valid valid-danger">
                          {{appControlsForm.validControls.titulo}}
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- row -->
                  <div class="form-group row">
                    <div class="col-md-12">
                      <label class="col-md-3 col-form-label">Tipo de Pregunta</label>
                      <div class="col-md-9">
                        <select class="form-control" id="tipo" name="tipo" formControlName="tipo">
                            <option *ngFor ="let tipo of tipoPregunta" [ngValue]="tipo.id">{{tipo.nombre}}</option>
                          </select>
                        <div *ngIf="appControlsForm.validControls.tipo" class="valid valid-danger">
                          {{appControlsForm.validControls.tipo}}
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="form-group row">
                      <div class="col-md-12">
                        <div class="col-md-12  checkbox">
                              <label><input type="checkbox" value="">Obligatoria</label>
                            </div>
                      </div>
                  </div>
                </fieldset>
                  <div >
                    <!--<fieldset class="form-control" *ngSwitchCase="0">
                      <legend>Pregunta abierta</legend>
                      <div class="form-group row">
                        <div class="col-md-12">
                          <label class="col-md-3 col-form-label">Tipo de Entrada</label>
                          <div class="col-md-9">
                            <select class="form-control" id="tipoEntrada" name="tipoEntrada" formControlName="tipoEntrada" style="height: 35px">
                                <option value="1">Texto</option>
                                <option value="0">Numérico</option>
                                <option value="0">Fecha</option>
                              </select>
                            <div *ngIf="appControlsForm.validControls.tipoEntrada" class="valid valid-danger">
                              {{appControlsForm.validControls.tipoEntrada}}
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="form-group row">
                        <div class="col-md-12">
                          <label class="col-md-3 col-form-label" >Texto de ayuda</label>
                          <div class="col-md-9">
                            <input class="col-md-12 form-control" type="text" placeholder="Ingresar un texto de ayuda" id="textoAyuda" name="textoAyuda" formControlName="textoAyuda">
                            <div *ngIf="appControlsForm.validControls.textoAyuda" class="valid valid-danger">
                              {{appControlsForm.validControls.textoAyuda}}
                            </div>
                          </div>
                        </div>
                      </div>
                    </fieldset>-->
                    <fieldset class="form-control">
                      <legend>Elección única</legend>
                      <!-- row -->
                      <div class="form-group row">
                        <div class="col-md-12">
                          <div class="row" *ngFor= "let opcion of pregunta.opciones; let i = index">
                            <div class="col-xs-8">
                                <input type="text"  [ngModelOptions]="{standalone: true}" class="form-control" name="option[]" [(ngModel)]="pregunta.opciones[i]"/>
                            </div>
                            <div class="col-xs-4">
                                <button type="button" class="btn btn-default removeButton" (click)="removerOpcion(i)"><i class="fa fa-trash-o"></i></button>
                                <button type = "button" class = "btn btn-default"><span><i class="fa fa-arrow-up" aria-hidden="true"></i></span></button>
                                <button type = "button" class = "btn btn-default"><span><i class="fa fa-arrow-down" aria-hidden="true"></i></span></button>
                            </div>
                          </div>
                        </div>
                        <div class="col-xs-12">
                            <div class="row">
                              <div class= "col-xs-10"></div>
                              <div class ="col-xs-2">
                                <button type="button" class="col-xs-6 btn btn-default addButton" (click)="agregarOpcion()"><i class="fa fa-plus"></i></button>
                            </div>
                            </div>
                        </div>
                      </div>
                      <div class="row" *ngIf="pregunta.opciones.length > 0">
                        <label class="col-md-3 col-form-label" >Opcion por defecto</label>
                        <div class="col-md-2">
                          <select class="form-control">
                            <option *ngFor="let opcion of pregunta.opciones" [ngValue]="opcion">{{opcion}}</option>
                          </select>
                        </div>
                      </div>
                    </fieldset>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-dunsa" (click)="cerrar()">Cancelar</button>
        <button type="submit" class="btn btn-aunsa" [disabled]="!form.valid" (click)="guardarPregunta()">Aceptar</button>
      </div>
    </form>
  </div>
</div>
</div>
